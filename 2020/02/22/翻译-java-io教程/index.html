<!DOCTYPE html>












  


<html class="theme-next gemini use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2"/>
<meta name="theme-color" content="#222">












<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />






















<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=6.3.0" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=6.3.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=6.3.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=6.3.0">


  <link rel="mask-icon" href="/images/logo.svg?v=6.3.0" color="#222">









<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '6.3.0',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="[toc]原文链接：http://tutorials.jenkov.com/java-io/index.html#java-io-api-scope  Java IO 是java自带的为了读入和写出数据而设计的API.绝大所数应用需要进行输入操作然后基于输入数据生成输出数据.例如:从文件或者网络上读取数据,相对应的,往文件中写入数据或者向网络写出返回一个响应. Java IO API 位于 Jav">
<meta name="keywords" content="java,翻译,教程">
<meta property="og:type" content="article">
<meta property="og:title" content="[翻译]java io教程">
<meta property="og:url" content="http://yoursite.com/2020/02/22/翻译-java-io教程/index.html">
<meta property="og:site_name" content="华氏温度">
<meta property="og:description" content="[toc]原文链接：http://tutorials.jenkov.com/java-io/index.html#java-io-api-scope  Java IO 是java自带的为了读入和写出数据而设计的API.绝大所数应用需要进行输入操作然后基于输入数据生成输出数据.例如:从文件或者网络上读取数据,相对应的,往文件中写入数据或者向网络写出返回一个响应. Java IO API 位于 Jav">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2020-02-22T03:11:15.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="[翻译]java io教程">
<meta name="twitter:description" content="[toc]原文链接：http://tutorials.jenkov.com/java-io/index.html#java-io-api-scope  Java IO 是java自带的为了读入和写出数据而设计的API.绝大所数应用需要进行输入操作然后基于输入数据生成输出数据.例如:从文件或者网络上读取数据,相对应的,往文件中写入数据或者向网络写出返回一个响应. Java IO API 位于 Jav">






  <link rel="canonical" href="http://yoursite.com/2020/02/22/翻译-java-io教程/"/>



<script type="text/javascript" id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>[翻译]java io教程 | 华氏温度</title>
  









  <noscript>
  <style type="text/css">
    .use-motion .motion-element,
    .use-motion .brand,
    .use-motion .menu-item,
    .sidebar-inner,
    .use-motion .post-block,
    .use-motion .pagination,
    .use-motion .comments,
    .use-motion .post-header,
    .use-motion .post-body,
    .use-motion .collection-title { opacity: initial; }

    .use-motion .logo,
    .use-motion .site-title,
    .use-motion .site-subtitle {
      opacity: initial;
      top: initial;
    }

    .use-motion {
      .logo-line-before i { left: initial; }
      .logo-line-after i { right: initial; }
    }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">华氏温度</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">
    <a href="/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-home"></i> <br />Startseite</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-about">
    <a href="/about/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-user"></i> <br />Über</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">
    <a href="/tags/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />Tags</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">
    <a href="/categories/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-th"></i> <br />Kategorien</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">
    <a href="/archives/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />Archiv</a>
  </li>

      
      
    </ul>
  

  

  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/02/22/翻译-java-io教程/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Howard">
      <meta itemprop="description" content="午夜向日葵，晌午夜光杯。跛者脚下路，屠夫腕上佛。">
      <meta itemprop="image" content="/images/avatar/P1070776.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="华氏温度">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">[翻译]java io教程
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              

              
                
              

              <time title="Post created: 2020-02-22 11:11:15" itemprop="dateCreated datePublished" datetime="2020-02-22T11:11:15+08:00">2020-02-22</time>
            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">in</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/java/" itemprop="url" rel="index"><span itemprop="name">java</span></a></span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2020/02/22/翻译-java-io教程/#comments" itemprop="discussionUrl">
                
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2020/02/22/翻译-java-io教程/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h2 id="toc"><a href="#toc" class="headerlink" title="[toc]"></a>[toc]</h2><blockquote><p>原文链接：<a href="http://tutorials.jenkov.com/java-io/index.html#java-io-api-scope" target="_blank" rel="noopener">http://tutorials.jenkov.com/java-io/index.html#java-io-api-scope</a></p>
</blockquote>
<p>Java IO 是java自带的为了读入和写出数据而设计的API.绝大所数应用需要进行输入操作然后基于输入数据生成输出数据.<br>例如:从文件或者网络上读取数据,相对应的,往文件中写入数据或者向网络写出返回一个响应.</p>
<p>Java IO API 位于 Java IO包中.如果你查看在java.io包中的Java IO相关类,繁杂大量的选择会让你迷茫于该选择哪一个来使用.<br>这些类的是为了应对什么场景?对于给定的特定任务,你应该选择哪一个?你如何创建适合自己业务场景的插件类?等等.</p>
<p>这个教程的目的是对这些IO类是如何组织,如何是使用的给你一个总体的把握.方便你选择正确的类处理对应的任务或者已经有了可以完美解决的类或方法.</p>
<p>A good place to start is the Java IO Overview tutorial. That tutorial gives you a quick overview of the central concepts<br>in the Java IO API, and an overview of all the central classes in the Java IO API.<br>本教程是你吃透Java IO的一个良好指导.教程将带你对JAVA IO API的核心概念和类以及方法,有一个全局的掌握.</p>
<h2 id="Java-IO包的作用域"><a href="#Java-IO包的作用域" class="headerlink" title="Java IO包的作用域"></a>Java IO包的作用域</h2><p>其实java.io包并没有包括全部类型的输入和输出.例如,从GUI程序或者Web网页的输入和输出就没有包含在java.io包中.这些类型的输入和输出被包含在其他<br>位置,比如GUI被包括在JFC类在Swing项目中,而Servle 和 HTTP 相关的在J2EE相关包中.</p>
<p>java.io包下的类和方法主要目的在处理文件的输入输出,网络上的流,内存缓冲区等.但是,java.io包不包括网络连接中必须的建立打开网络socket相关类.<br>由于这个原因,你需要使用Java Networking API.一旦你建立并打开了socke网络连接,之后对数据读写的操作都是通过java IO包中的InputStream类,<br>和OutputStream类.</p>
<h2 id="Java-NIO-——-另一种IO的选择"><a href="#Java-NIO-——-另一种IO的选择" class="headerlink" title="Java NIO —— 另一种IO的选择"></a>Java NIO —— 另一种IO的选择</h2><p>Java 也提供了另一种IO API叫做Java NIO。它包含的类和方法和Java IO以及Java Networking APIs提供的功能大致相同，但是Java NIO可以在<br><strong>非阻塞</strong>的模式下运行。非阻塞IO相比于阻塞IO在某些情况下会有大幅度的效率提升。</p>
<h2 id="更多javaIO的工具，技巧等"><a href="#更多javaIO的工具，技巧等" class="headerlink" title="更多javaIO的工具，技巧等"></a>更多javaIO的工具，技巧等</h2><p>本部分教程叫做java有妙招，java 有好物。也包含一些关于java io 的工具。例如：在Stream中替换String，用buffer遍历流等。</p>
<h2 id="Java-IO-类一览表"><a href="#Java-IO-类一览表" class="headerlink" title="Java IO 类一览表"></a>Java IO 类一览表</h2><p>下面列出的java io 类从输入，输出，以字符为单位，以字节为单位或者更多特定目的，比如缓存，解析等方面分门别类。  </p>
<table>
<thead>
<tr>
<th style="text-align:left"></th>
<th style="text-align:center">基于字符输入byte</th>
<th style="text-align:center">输出</th>
<th style="text-align:center">基于字符输入Character</th>
<th style="text-align:center">Output</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">基础（Basic）</td>
<td style="text-align:center">InputStream</td>
<td style="text-align:center">OutputStream</td>
<td style="text-align:center">Reader InputStreamReader</td>
<td style="text-align:center">Writer OutputStreamWriter</td>
</tr>
<tr>
<td style="text-align:left">数组（Arrays）</td>
<td style="text-align:center">ByteArrayInputStream</td>
<td style="text-align:center">ByteArrayOutputStream</td>
<td style="text-align:center">CharArrayReader</td>
<td style="text-align:center">CharArrayWriter</td>
</tr>
<tr>
<td style="text-align:left">文件（Files）</td>
<td style="text-align:center">FileInputStream RandomAccessFile</td>
<td style="text-align:center">FileOutputStream RandomAccessFile</td>
<td style="text-align:center">FileReader</td>
<td style="text-align:center">FileWriter</td>
</tr>
<tr>
<td style="text-align:left">管道（Pipes）</td>
<td style="text-align:center">PipedInputStream</td>
<td style="text-align:center">PipedOutputStream</td>
<td style="text-align:center">PipedReader</td>
<td style="text-align:center">PipedWriter</td>
</tr>
<tr>
<td style="text-align:left">缓存（Buffering）</td>
<td style="text-align:center">BufferedInputStream</td>
<td style="text-align:center">BufferedOutputStream</td>
<td style="text-align:center">BufferedReader</td>
<td style="text-align:center">BufferedWriter</td>
</tr>
<tr>
<td style="text-align:left">过滤（Filtering）</td>
<td style="text-align:center">FilterInputStream</td>
<td style="text-align:center">FilterOutputStream</td>
<td style="text-align:center">FilterReader</td>
<td style="text-align:center">FilterWriter</td>
</tr>
<tr>
<td style="text-align:left">解析（Parsing）</td>
<td style="text-align:center">PushbackInputStream StreamTokenizer</td>
<td style="text-align:center"></td>
<td style="text-align:center">PushbackReader LineNumberReader</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:left">字符串（Strings）</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">StringReader</td>
<td style="text-align:center">StringWriter</td>
</tr>
<tr>
<td style="text-align:left">数据（Data）</td>
<td style="text-align:center">DataInputStream</td>
<td style="text-align:center">DataOutputStream</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:left">格式化数据（Data-Formatted）</td>
<td style="text-align:center"></td>
<td style="text-align:center">PrintStream</td>
<td style="text-align:center"></td>
<td style="text-align:center">PrintWriter</td>
</tr>
<tr>
<td style="text-align:left">对象（Objects）</td>
<td style="text-align:center">ObjectInputStream</td>
<td style="text-align:center">ObjectOutputStream</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:left">工具（Utilities）</td>
<td style="text-align:center">SequenceInputStream</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
</tbody>
</table>
<h2 id="Java-5-以及之后版本"><a href="#Java-5-以及之后版本" class="headerlink" title="Java 5 以及之后版本"></a>Java 5 以及之后版本</h2><p>教程最开始是基于java5，但是最新的12,13版本也都类似。</p>
<h2 id="Java-IO-总览"><a href="#Java-IO-总览" class="headerlink" title="Java IO 总览"></a>Java IO 总览</h2><p>在本部分教程将给你Java io 的概述. 特别的，我将通过类和方法的目的给你分类。这个分类会帮助你正确的在将来选择使用对应的类和方法。</p>
<h3 id="输入和输出-源头和目标"><a href="#输入和输出-源头和目标" class="headerlink" title="输入和输出 - 源头和目标"></a>输入和输出 - 源头和目标</h3><p>“输入”以及“输出”这两个术语有时候容易引起歧义。一个应用的一部分输入可能是另一个的输出。一个输出流中写入的流，是一个输出流？还是一个来自你<br>读取的输出流中的流是输出流？毕竟一个输入流输出它从程序中读取到的数据，不是么？我个人觉得当刚接触学习Java IO的时候，这里是有一些困惑的。</p>
<p>出于尝试找到这个困惑的答案，我尝试给input和output赋予不同的名字来从概念上搞清楚，输入流从哪里来，输出流又输出到哪里。</p>
<p>Java中的IO 包几乎只关注从目标原始数据中读取和向目标写原始数据。最典型的源数据和目标数据如下：</p>
<pre><code>- 文件 Files
- 管道 Pipes
- 网络连接 Network Connections
- 内存缓存区（例如数组） In-memory Buffers (e.g. arrays)
- System.in, System.out, System.error
</code></pre><p>下图阐述了程序从数据源读取数据和向目标源写入数据的原理：<br>    <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">graph TD;</span><br><span class="line">    Source--&gt;Program--&gt;Destination;</span><br></pre></td></tr></table></figure></p>
<h4 id="流（Streams）"><a href="#流（Streams）" class="headerlink" title="流（Streams）"></a>流（Streams）</h4><p>IO流是Java IO中的核心概念。流从概念上看是源源不断数据流。你可以从一个流中读取数据，或者写入数据到一个流中。流与数据来源、数据目标密切相关。<br>Java IO中的流可以基于字节Byte（读取或写入字节），也可以基于字符character（读取或写入字符）。</p>
<h4 id="输入流InputStream-输出流OutputStream-读入Reader-和-写出Writer"><a href="#输入流InputStream-输出流OutputStream-读入Reader-和-写出Writer" class="headerlink" title="输入流InputStream, 输出流OutputStream, 读入Reader 和 写出Writer"></a>输入流InputStream, 输出流OutputStream, 读入Reader 和 写出Writer</h4><p>需要从数据源读入数据的程序需要一个InputStream或者Reader。<br>需要向目标写入数据的程序需要一个OutputSteam或者Writer。如下所示：<br>Source –&gt; InputStream / Reader –&gt; Program<br>Program –&gt; OutputStream / Writer –&gt; Destination</p>
<p>InputStream\Reader与数据源关联.OutputStream\Writer与目标数据有关.</p>
<h3 id="Java-IO-的目的和特性"><a href="#Java-IO-的目的和特性" class="headerlink" title="Java IO 的目的和特性"></a>Java IO 的目的和特性</h3><p>Java IO 包包含许多InputStream, OutputStream, Reader , Writer类的子类.<br>设计如此多子类的原因是为了解决不同的问题，实现不同的目的。详情如下：</p>
<pre><code>- 访问文件 File Access
- 访问网络 Network Access
- 访问内存缓存 Internal Memory Buffer Access
- 线程间通信(管道) Inter-Thread Communication (Pipes)
- 缓存 Buffering
- 过滤器 Filtering
- 解析器 Parsing
- 读写文本 Reading and Writing Text (Readers / Writers)
- 读写基本数据类型 Reading and Writing Primitive Data (long, int etc.)
- 读写对象 Reading and Writing Objects
</code></pre><p>当你使用Java IO相关类去读写数据是，最好知道这些类的目的，这能让你更好的理解什么时候该用什么类解决问题。</p>
<h2 id="Java-IO-文件"><a href="#Java-IO-文件" class="headerlink" title="Java IO 文件"></a>Java IO 文件</h2><p>文件是java应用汇总常见的数据源和目标数据。这部分就带你搞java里的文件。这里不涉及技术细节，但是让你知道什么时候该用什么。单独分页里有详细说明。</p>
<h3 id="通过Java-IO读取文件"><a href="#通过Java-IO读取文件" class="headerlink" title="通过Java IO读取文件"></a>通过Java IO读取文件</h3><p>如果你需要从一个端读取文件到另一个端，你可以使用<a href="#FileInputStream">FileInputStream</a>或者<a href="#FileReader">FileReader</a>，<br>通过二进制形式读取用FileInputStream，通过文本化字符流读取用FileReader.这两个类让你一次一个字节或者一次一个字符的从文件的开始读取到文件结尾。<br>你不用读取整个文件，但是你只能按照文件数据的储存数据顺序读取。</p>
<p>如果你需要跳到文件某一部分，只读取文件某一部分或某几部分数据，可以使用<a href="#RandomAccessFile">RandomAccessFile</a>。</p>
<h3 id="通过Java-IO写入文件"><a href="#通过Java-IO写入文件" class="headerlink" title="通过Java IO写入文件"></a>通过Java IO写入文件</h3><p>通过二进制写入FileOutputStream，通过字符写入FileWriter。一次写一个字节或者一个字符，从文件开始到文件结尾。按照写入顺序存储。</p>
<p>如果你需要跳过某些文件，灵活的写入不同的地方,例如在文件最后写入，你可以用<a href="#RandomAccessFile">RandomAccessFile</a>.</p>
<h3 id="通过Java-IO随机访问文件"><a href="#通过Java-IO随机访问文件" class="headerlink" title="通过Java IO随机访问文件"></a>通过Java IO随机访问文件</h3><p>正如我上面提到的，你可通过RandomAccessFile类，随机访问文件。</p>
<p>随机访问并不意味着你真的可以从任意地方读取或写入数据.<br>他只是意味着你可以跳过文件，通过任何你想要的方式去同时读取或者写入数据。没有强制特定的访问顺序。这使得覆盖已经存在文件的某一部分，<br>文件尾写入，从中删除，当然也包括从任何你需要的地方进行读取成为可能。</p>
<h3 id="文件和目录信息访问"><a href="#文件和目录信息访问" class="headerlink" title="文件和目录信息访问"></a>文件和目录信息访问</h3><p>Sometimes you may need access to information about a file rather than its content.<br>For instance, if you need to know the file size or the file attributes of a file. The same may be true for a directory.<br>For instance, you may want to get a list of all files in a given directory.<br>Both file and directory information is available via the File class.<br>有时你可能需要访问文件的其他信息，而不是文件内容。例如你需要知道文件大小或者文件属性。对文件目录也一样，你可能需要知道某个目录下所有文件的列表。<br>文件信息和路径信息都可以通过<a href="#File">File</a>类获取到。</p>
<h2 id="Java-IO-管道-pipes"><a href="#Java-IO-管道-pipes" class="headerlink" title="Java IO 管道 pipes"></a>Java IO 管道 pipes</h2><pre><code>- 管道是java提供给同一个虚拟机上运行的两个线程通信的机制。所以管道可以是数据源也可以使目标数据。
- 不同jvm不同进程中的线程不能通过管道通信
- unix、linux中说的管道是运行在不同地址空间的进程通信手段
- 在java中，通过管道通信必须是运行在统一进程中的不同线程。
</code></pre><h3 id="通过Java-IO创建管道"><a href="#通过Java-IO创建管道" class="headerlink" title="通过Java IO创建管道"></a>通过Java IO创建管道</h3><pre><code>- PipedOutputStream
- PipedInputStream
- 一个线程的PipedOutputStream 和 另一个线程的PipedInputStream必须关联
- 构造方法关联
-  connect() 方法关联
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line">    <span class="keyword">import</span> java.io.IOException;</span><br><span class="line">    <span class="keyword">import</span> java.io.PipedInputStream;</span><br><span class="line">    <span class="keyword">import</span> java.io.PipedOutputStream;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PipeExample</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">    </span><br><span class="line">            <span class="keyword">final</span> PipedOutputStream output = <span class="keyword">new</span> PipedOutputStream();</span><br><span class="line">            <span class="keyword">final</span> PipedInputStream  input  = <span class="keyword">new</span> PipedInputStream(output);</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">            Thread thread1 = <span class="keyword">new</span> Thread(<span class="keyword">new</span> Runnable() &#123;</span><br><span class="line">                <span class="meta">@Override</span></span><br><span class="line">                <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                    <span class="keyword">try</span> &#123;</span><br><span class="line">                        output.write(<span class="string">"Hello world, pipe!"</span>.getBytes());</span><br><span class="line">                    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;);</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">            Thread thread2 = <span class="keyword">new</span> Thread(<span class="keyword">new</span> Runnable() &#123;</span><br><span class="line">                <span class="meta">@Override</span></span><br><span class="line">                <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                    <span class="keyword">try</span> &#123;</span><br><span class="line">                        <span class="keyword">int</span> data = input.read();</span><br><span class="line">                        <span class="keyword">while</span>(data != -<span class="number">1</span>)&#123;</span><br><span class="line">                            System.out.print((<span class="keyword">char</span>) data);</span><br><span class="line">                            data = input.read();</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;);</span><br><span class="line">    </span><br><span class="line">            thread1.start();</span><br><span class="line">            thread2.start();</span><br><span class="line">    </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    ``` </span><br><span class="line">### 管道和线程</span><br><span class="line">    - 当你使用两个关联的管道，传输一个线程的数据流到另一个数据流中时，另一个数据流又传输到再另外一个线程中时，read（）和write（）方法</span><br><span class="line">    在流中调用的时候是阻塞的，如果中间那个线程同时调用read和write方法，可能会造成死锁。</span><br><span class="line">    </span><br><span class="line">### 管道的备选方案</span><br><span class="line">    - 其实大多数情况下，线程间经常直接传输对象，而不是原始字节数据。</span><br><span class="line">    - todo：传对象则如何，在多线程专题中解释。</span><br><span class="line">    </span><br><span class="line">## Java IO 网络</span><br><span class="line"></span><br><span class="line">    - 网络知识这里不应该多BB</span><br><span class="line">    - 但是网络连接都是涉及到IO的操作，这几简单BB几句</span><br><span class="line">    - 一旦网络在两个进程之间建立，他们之间的数据传输就像文件传输一样。</span><br><span class="line">    - InputStream 读数据,  OutputStream 写数据</span><br><span class="line">    - 换句话说，通过java 网络api建立的的连接中，还是用java io来读写数据</span><br><span class="line">    - 你能写入文件，就能写入网络。需要改动的只有你写数据的组件是基于OutputStream实现的，而不是FileOutputStream。读入一个鸟样</span><br><span class="line">    ``` java</span><br><span class="line">        <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyClass</span> </span>&#123;</span><br><span class="line">            </span><br><span class="line">        </span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        </span><br><span class="line">                InputStream inputStream = <span class="keyword">new</span> FileInputStream(<span class="string">"c:\\myfile.txt"</span>);</span><br><span class="line">            </span><br><span class="line">                process(inputStream);</span><br><span class="line">            </span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">        </span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">process</span><span class="params">(InputStream input)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">                <span class="comment">//do something with the InputStream</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>
</code></pre><h2 id="Java-IO-Byte-和-Char数组"><a href="#Java-IO-Byte-和-Char数组" class="headerlink" title="Java IO: Byte 和 Char数组"></a>Java IO: Byte 和 Char数组</h2><pre><code>- 在程序内部，字节和字符数组经常用来临时缓存数据，自然可以统统读进内存数组，然后通过下标访问。
但是如果你想从InputStream中Reader读取某一部分如何处理。
</code></pre><h3 id="通过InputStream或者Reader读取数组"><a href="#通过InputStream或者Reader读取数组" class="headerlink" title="通过InputStream或者Reader读取数组"></a>通过InputStream或者Reader读取数组</h3><pre><code>- 从数组中读取数据，要通过ByteArrayInputStream或者CharArrayReader包装的字节或者字符。这样array中的字节或字符数据就能被读取到了。
- CharArrayReader也一样，换个关键字
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">byte</span>[] bytes = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">//write data into byte array...</span></span><br><span class="line"></span><br><span class="line">InputStream input = <span class="keyword">new</span> ByteArrayInputStream(bytes);</span><br><span class="line"></span><br><span class="line"><span class="comment">//read first byte</span></span><br><span class="line"><span class="keyword">int</span> data = input.read();</span><br><span class="line"><span class="keyword">while</span>(data != -<span class="number">1</span>) &#123;</span><br><span class="line">    <span class="comment">//do something with data</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//read next byte</span></span><br><span class="line">    data = input.read();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</code></pre><h3 id="通过OutputStream或者Writer写入数组"><a href="#通过OutputStream或者Writer写入数组" class="headerlink" title="通过OutputStream或者Writer写入数组"></a>通过OutputStream或者Writer写入数组</h3><pre><code>- ByteArrayOutputStream或者CharArrayWriter创建，往里面写入数据
- 写完了之后调用toByteArray()或者toCharArray()
- CharArrayWriter也一样
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ByteArrayOutputStream output = <span class="keyword">new</span> ByteArrayOutputStream();</span><br><span class="line"></span><br><span class="line">output.write(<span class="string">"This text is converted to bytes"</span>.getBytes(<span class="string">"UTF-8"</span>));</span><br><span class="line"></span><br><span class="line"><span class="keyword">byte</span>[] bytes = output.toByteArray();</span><br></pre></td></tr></table></figure>
</code></pre><h2 id="Java中的-System-in-System-out-和-System-error"><a href="#Java中的-System-in-System-out-和-System-error" class="headerlink" title="Java中的 System.in, System.out, 和 System.error"></a>Java中的 System.in, System.out, 和 System.error</h2><pre><code>- Java中三种经常用于提供输入输出的三种流
- System.out输出在控制台
- 这三个在虚拟机启动时由系统初始化，所以你不必初始化他们（尽管你可以在运行时交换他们）
</code></pre><h3 id="System-in"><a href="#System-in" class="headerlink" title="System.in"></a>System.in</h3><pre><code>- 是从控制台读入键盘输入数据的输入流
- 只能通过控制台或者终端读入与其相关的java程序
- 不常用，数据经常通过java 运行命令行参数，文件或者网络连接，或者GUI中的输入。
</code></pre><h3 id="System-out"><a href="#System-out" class="headerlink" title="System.out"></a>System.out</h3><pre><code>- 是一个通过字节写出到控制台或者终端的PrintStream
- debug用用啥的
</code></pre><h3 id="System-err"><a href="#System-err" class="headerlink" title="System.err"></a>System.err</h3><pre><code>- 和out一个狗样，只是文本区别
- 编译器可能给标个红字意思意思
</code></pre><h3 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h3><pre><code><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      InputStream input = <span class="keyword">new</span> FileInputStream(<span class="string">"c:\\data\\..."</span>);</span><br><span class="line">      System.out.println(<span class="string">"File opened..."</span>);</span><br><span class="line">    </span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e)&#123;</span><br><span class="line">      System.err.println(<span class="string">"File opening failed:"</span>);</span><br><span class="line">      e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">    ``` </span><br><span class="line">    </span><br><span class="line">### 交换System流</span><br><span class="line">    - 虽然都是 java.lang.System类的静态成员，在jvm启动时就提前实例化了。但是他还是能手动更换。</span><br><span class="line">    ``` java</span><br><span class="line">    OutputStream output = <span class="keyword">new</span> FileOutputStream(<span class="string">"c:\\data\\system.out.txt"</span>);</span><br><span class="line">    PrintStream printOut = <span class="keyword">new</span> PrintStream(output);</span><br><span class="line">    </span><br><span class="line">    System.setOut(printOut);</span><br></pre></td></tr></table></figure>

- 这样所写入System.out的数据都被重定向到system.out.txt文件中
- 记住，这样做你要保证在jvm关闭前，flush System.out流，并且关闭文件。以保证所有数据输入到文件中。
</code></pre><h2 id="Java-IO-流"><a href="#Java-IO-流" class="headerlink" title="Java IO: 流"></a>Java IO: 流</h2><pre><code>- java io流是你可以读取或者写入的数据流。通常和数据源目标数据相关，比如文件，网络连接等。
- 流中没有array的索引概念。在流中，你既不可以像在数组中前后移动游标，也不能像在文件操作中使用 RandomAccessFile去随意访问数据。
流就是一个连续的数据流。
- 一些流的实现允许你为了之后再次读取，向流中推入数据，比如PushbackInputStream。但是你推入的数据有限，而且你也不能像数组中那样，
随意遍历数据。数据只能被顺序读取。
- 基于字节的经常称作流stream，比如InputStream or OutputStream。这些流读取或者写入原始字符数据，
DataInputStream and DataOutputStream是例外，他们可能读写基础数据类型，比如int, long, float and double values.
- 基于字符的经常读入器和写出器&quot;Reader&quot; or &quot;Writer&quot;。
- 基于字符的流可以读入一个Latin1（ISO-8859-1）或者UNICODE编码下的一个字符。
</code></pre><h3 id="输入流InputStream"><a href="#输入流InputStream" class="headerlink" title="输入流InputStream"></a>输入流InputStream</h3><pre><code>- java.io.InputStream 是java io输入流的父类。如果你的组件要从流中读入数据，你要继承这个逼，而不是子类。这样能保证你的代码能接受
所有种类的输入流，而不是某一种具体的子类型。
- 也不是所有都能基于InputStream，如果你需要向流中回写数据，需要基于PushbackInputStream。
- 通常调用read()方法。翻译一个int类型的byte值，结束返回-1.
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">InputStream input = <span class="keyword">new</span> FileInputStream(<span class="string">"c:\\data\\input-file.txt"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> data = input.read();</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span>(data != -<span class="number">1</span>)&#123;</span><br><span class="line">  data = input.read();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</code></pre><h3 id="输出流OutputStream"><a href="#输出流OutputStream" class="headerlink" title="输出流OutputStream"></a>输出流OutputStream</h3><pre><code>- java.io.OutputStream是输出流的父类。
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">OutputStream output = <span class="keyword">new</span> FileOutputStream(<span class="string">"c:\\data\\output-file.txt"</span>);</span><br><span class="line">output.write(<span class="string">"Hello World"</span>.getBytes());</span><br><span class="line">output.close();</span><br></pre></td></tr></table></figure>
</code></pre><h3 id="结合流Combining-Streams"><a href="#结合流Combining-Streams" class="headerlink" title="结合流Combining Streams"></a>结合流Combining Streams</h3><pre><code>- 你可以用缓存流BufferedInputStream包装输入流InputStream， BufferedOutputStream也一样。
- 你也可以用PushbackStream包装输入流。
- 或者合并两个输入流到一个 SequenceInputStream时序输入流
- 自定义类的的包装流

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">InputStream input = <span class="keyword">new</span> BufferedInputStream(</span><br><span class="line">                        <span class="keyword">new</span> FileInputStream(<span class="string">"c:\\data\\input-file.txt"</span>));</span><br></pre></td></tr></table></figure>
</code></pre><h2 id="Java-IO-输入解析"><a href="#Java-IO-输入解析" class="headerlink" title="Java IO: 输入解析"></a>Java IO: 输入解析</h2><pre><code>- String.replace()可以替换，但是每次替换都创建一个对象副本。 O(N * M)，N是String长度，M执行替换次数
</code></pre><h2 id="Java-IO-读入器和写出器Readers-and-Writers"><a href="#Java-IO-读入器和写出器Readers-and-Writers" class="headerlink" title="Java IO: 读入器和写出器Readers and Writers"></a>Java IO: 读入器和写出器Readers and Writers</h2><pre><code>- 和InputStream 、 OutputStream类似，只是基于字符单位
</code></pre><h3 id="Reader"><a href="#Reader" class="headerlink" title="Reader"></a>Reader</h3><pre><code>- 包含BufferedReader, PushbackReader, InputStreamReader, StringReader等子类
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Reader reader = <span class="keyword">new</span> FileReader(<span class="string">"c:\\data\\myfile.txt"</span>);</span><br><span class="line">    </span><br><span class="line"><span class="keyword">int</span> data = reader.read();</span><br><span class="line"><span class="keyword">while</span>(data != -<span class="number">1</span>)&#123;</span><br><span class="line">    <span class="keyword">char</span> dataChar = (<span class="keyword">char</span>) data;</span><br><span class="line">    data = reader.read();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

- 这并不意味着并不代表每次read读入2个字节的char，这个看具体编码。
</code></pre><h3 id="结合InputStreams的Reader"><a href="#结合InputStreams的Reader" class="headerlink" title="结合InputStreams的Reader"></a>结合InputStreams的Reader</h3><pre><code><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line">    Reader reader = <span class="keyword">new</span> InputStreamReader(inputStream);</span><br><span class="line">    ``` </span><br><span class="line">    </span><br><span class="line">### Writer</span><br><span class="line"></span><br><span class="line">    - 包括BufferedWriter 、 PrintWriter</span><br><span class="line">    ``` java</span><br><span class="line">        Writer writer = <span class="keyword">new</span> FileWriter(<span class="string">"c:\\data\\file-output.txt"</span>);</span><br><span class="line">        </span><br><span class="line">        writer.write(<span class="string">"Hello World Writer"</span>);</span><br><span class="line">        writer.close();</span><br><span class="line">    ``` </span><br><span class="line">    </span><br><span class="line">### 结合Reader和Writers</span><br><span class="line">    ``` java</span><br><span class="line">    Reader reader = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> FileReader(...));</span><br><span class="line">    </span><br><span class="line">    Writer writer = <span class="keyword">new</span> BufferedWriter(<span class="keyword">new</span> FileWriter(...));</span><br><span class="line">    ``` </span><br><span class="line">## Java IO: 并发IO</span><br><span class="line">    - 如果你不能保证确定每个线程读取多少数据，或者按什么顺序去写出的话，就不应该有一个以上的线程同时从InputStream 或 Reader读取数据，</span><br><span class="line">    也不应该有一个以上的线程同时向OutputStream或 Writer写入数据</span><br><span class="line">    - 如果涉及到不同线程，处理不同数据顺序生命周期，要注意，线程间处理流的代码需要加<span class="keyword">synchronized</span></span><br><span class="line">    - 在  Java NIO中，你可以用一个线程通过多个channel渠道读入或者写出数据。例如，你有许多建立的网络连接，但是每个连接上只有少量数据</span><br><span class="line">    （聊天服务器），你可以用一个线程监控多个channel（连接）。</span><br><span class="line">    </span><br><span class="line">## Java IO: 异常处理</span><br><span class="line">    - Streams and Readers / Writers 用完通过调用后close()关闭。 </span><br><span class="line">    - <span class="keyword">finally</span>中关闭</span><br><span class="line">    - <span class="keyword">finally</span>中抛出错误怎么办？再<span class="keyword">try</span> <span class="keyword">catch</span></span><br><span class="line">    - close报错呢？异常处理模板。java7以后不用人为处理了？？？</span><br><span class="line">    </span><br><span class="line">## Java InputStream输入流</span><br><span class="line">    - 与数据源相关</span><br><span class="line">    ``` java</span><br><span class="line">        InputStream inputstream = <span class="keyword">new</span> FileInputStream(<span class="string">"c:\\data\\input-text.txt"</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span> data = inputstream.read();</span><br><span class="line">        <span class="keyword">while</span>(data != -<span class="number">1</span>) &#123;</span><br><span class="line">          <span class="comment">//do something with data...</span></span><br><span class="line">          doSomethingWithData(data);</span><br><span class="line">        </span><br><span class="line">          data = inputstream.read();</span><br><span class="line">        &#125;</span><br><span class="line">        inputstream.close();</span><br><span class="line">    ``` </span><br><span class="line">### 子类</span><br><span class="line">    - ByteArrayInputStream</span><br><span class="line">    - FileInputStream</span><br><span class="line">    - PipedInputStream</span><br><span class="line">    - BufferedInputStream</span><br><span class="line">    - FilterInputStream</span><br><span class="line">    - PushbackInputStream</span><br><span class="line">    - DataInputStream</span><br><span class="line">    - ObjectInputStream</span><br><span class="line">    - SequenceInputStream</span><br><span class="line"></span><br><span class="line">### read()方法</span><br><span class="line">    - InputStream的read()方法返回<span class="keyword">int</span>类型的<span class="keyword">byte</span>值。结尾返回-<span class="number">1</span>的<span class="keyword">int</span>类型</span><br><span class="line">    -  DataInputStream可以读基础类型</span><br><span class="line">    </span><br><span class="line">### read(byte[])方法     </span><br><span class="line">    - 读入<span class="keyword">byte</span>数组，返回真实读入的长度。</span><br><span class="line">    </span><br><span class="line">### 读入性能</span><br><span class="line">    - 读数组性能要比单独读入一个字节性能更好</span><br><span class="line">    - 好可能<span class="number">10</span>倍<span class="number">10</span>倍给你凉爽</span><br><span class="line">    - 读取速率决定于你定义的数组长度，操作系统或者硬件等。</span><br><span class="line">    - bugffer 尺寸<span class="number">8</span>kb会更大加速你的读取速率。</span><br><span class="line">    - 但是你的数组容量超过了底层操作或者硬件能力，你可能得不到一个效率提升。</span><br><span class="line">    </span><br><span class="line">### 通过BufferedInputStream的透明缓存</span><br><span class="line">    - Java BufferedInputStream一次读入大量的字符</span><br><span class="line">    - 也有较大速度提升</span><br><span class="line">    - 是InputStream子类，InputStream能用BufferedInputStream就能用</span><br><span class="line">    ``` java</span><br><span class="line">        InputStream input = <span class="keyword">new</span> BufferedInputStream(</span><br><span class="line">                              <span class="keyword">new</span> FileInputStream(<span class="string">"c:\\data\\input-file.txt"</span>),</span><br><span class="line">                                <span class="number">1024</span> * <span class="number">1024</span>        <span class="comment">/* buffer size */</span></span><br><span class="line">            );</span><br></pre></td></tr></table></figure>
</code></pre><h3 id="mark-and-reset-方法"><a href="#mark-and-reset-方法" class="headerlink" title="mark() and reset()方法"></a>mark() and reset()方法</h3><pre><code>- 子类不一定支持，如果支持的话，需要重写markSupported()返回true
- mark()方法标记当前已经读到数据的位置。可以用read方法从该处继续读取。reset方法再回到mark位置重新读取
</code></pre><h3 id="关闭输入流"><a href="#关闭输入流" class="headerlink" title="关闭输入流"></a>关闭输入流</h3><pre><code>- try-catch
</code></pre><h3 id="InputStream-转-Reader"><a href="#InputStream-转-Reader" class="headerlink" title="InputStream 转 Reader"></a>InputStream 转 Reader</h3><pre><code><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">InputStream inputStream       = <span class="keyword">new</span> FileInputStream(<span class="string">"c:\\data\\input.txt"</span>);</span><br><span class="line">Reader      inputStreamReader = <span class="keyword">new</span> InputStreamReader(inputStream);</span><br></pre></td></tr></table></figure>
</code></pre><h2 id="Java-OutputStream输出流"><a href="#Java-OutputStream输出流" class="headerlink" title="Java OutputStream输出流"></a>Java OutputStream输出流</h2><pre><code>- 输出流和目标数据相关
</code></pre><h3 id="write-byte-方法"><a href="#write-byte-方法" class="headerlink" title="write(byte)方法"></a>write(byte)方法</h3><pre><code>- 接受int型byte值
</code></pre><h2 id="Java-RandomAccessFile随机访问"><a href="#Java-RandomAccessFile随机访问" class="headerlink" title="Java RandomAccessFile随机访问"></a>Java RandomAccessFile随机访问</h2><pre><code><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">RandomAccessFile file = <span class="keyword">new</span> RandomAccessFile(<span class="string">"c:\\data\\file.txt"</span>, <span class="string">"rw"</span>);</span><br></pre></td></tr></table></figure>

- &quot;rw&quot;读写模式
</code></pre><h3 id="Access-Modes存取模式"><a href="#Access-Modes存取模式" class="headerlink" title="Access Modes存取模式"></a>Access Modes存取模式</h3><table>
<thead>
<tr>
<th style="text-align:center">Mode</th>
<th style="text-align:center">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">r</td>
<td style="text-align:center">读. 调用写模式导致IO异常</td>
</tr>
<tr>
<td style="text-align:center">rw</td>
<td style="text-align:center">读写.</td>
</tr>
<tr>
<td style="text-align:center">rwd</td>
<td style="text-align:center">同步读写模式.所有文件更新同步写入磁盘</td>
</tr>
<tr>
<td style="text-align:center">rws</td>
<td style="text-align:center">同步读写模式.所有文件或者元数据更新同步写入磁盘 </td>
</tr>
</tbody>
</table>
<h3 id="在RandomAccessFile文件中查找"><a href="#在RandomAccessFile文件中查找" class="headerlink" title="在RandomAccessFile文件中查找"></a>在RandomAccessFile文件中查找</h3><p>在RandomAccessFile文件中进行读写操作，需要先定位文件指针在要读写的位置，也称作seek</p>
<pre><code><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">RandomAccessFile file = <span class="keyword">new</span> RandomAccessFile(<span class="string">"c:\\data\\file.txt"</span>, <span class="string">"rw"</span>);</span><br><span class="line"></span><br><span class="line">file.seek(<span class="number">200</span>);</span><br></pre></td></tr></table></figure>
</code></pre><h3 id="获取文件位置"><a href="#获取文件位置" class="headerlink" title="获取文件位置"></a>获取文件位置</h3><pre><code><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">long</span> position = file.getFilePointer();</span><br></pre></td></tr></table></figure>
</code></pre><h3 id="读取字节"><a href="#读取字节" class="headerlink" title="读取字节"></a>读取字节</h3><pre><code><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">RandomAccessFile file = <span class="keyword">new</span> RandomAccessFile(<span class="string">"c:\\data\\file.txt"</span>, <span class="string">"rw"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> aByte = file.read();</span><br><span class="line"></span><br><span class="line"><span class="keyword">byte</span>[] dest      = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line"><span class="keyword">int</span>    offset    = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span>    length    = <span class="number">1024</span>;</span><br><span class="line"><span class="keyword">int</span>    bytesRead = randomAccessFile.read(dest, offset, length);</span><br></pre></td></tr></table></figure>
</code></pre><h3 id="写入"><a href="#写入" class="headerlink" title="写入"></a>写入</h3><pre><code><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">RandomAccessFile file = <span class="keyword">new</span> RandomAccessFile(<span class="string">"c:\\data\\file.txt"</span>, <span class="string">"rw"</span>);</span><br><span class="line"></span><br><span class="line">file.write(<span class="number">65</span>); <span class="comment">// ASCII code for A</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">byte</span>[] bytes = <span class="string">"Hello World"</span>.getBytes(<span class="string">"UTF-8"</span>);</span><br><span class="line">file.write(bytes, <span class="number">2</span>, <span class="number">5</span>);</span><br></pre></td></tr></table></figure>
</code></pre><h3 id="Java-File"><a href="#Java-File" class="headerlink" title="Java File"></a>Java File</h3><p>Xy1018421411563</p>
<h2 id="Java-FileInputStream"><a href="#Java-FileInputStream" class="headerlink" title="Java FileInputStream"></a><a id="FileInputStream">Java FileInputStream</a></h2><p>Java文件输入类FileInputStream（java.io.FileInputStream），支持了从一个文件的字节流中读入内容的功能。FileInputStream是InputStream<br>的子类。这意味这你用FileInputStream用法类似InputStream。</p>
<h3 id="Java-FileInputStream-用法示例"><a href="#Java-FileInputStream-用法示例" class="headerlink" title="Java FileInputStream 用法示例"></a>Java FileInputStream 用法示例</h3><pre><code><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">        InputStream input = <span class="keyword">new</span> FileInputStream(<span class="string">"c:\\data\\input-text.txt"</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span> data = input.read();</span><br><span class="line">        <span class="keyword">while</span>(data != -<span class="number">1</span>) &#123;</span><br><span class="line">          <span class="comment">//do something with data...</span></span><br><span class="line">          doSomethingWithData(data);</span><br><span class="line">        </span><br><span class="line">          data = input.read();</span><br><span class="line">        &#125;</span><br><span class="line">        input.close();</span><br><span class="line">    ``` </span><br><span class="line"></span><br><span class="line">提示：为了清晰起见，对应exception的处理这里省去了。想多了解自己滚去看异常去。</span><br><span class="line"></span><br><span class="line">### FileInputStream 构造函数</span><br><span class="line"></span><br><span class="line">    <span class="number">1</span>. 参数是文件位置路径</span><br><span class="line">    ``` java</span><br><span class="line">        String path = <span class="string">"C:\\user\\data\\thefile.txt"</span>;</span><br><span class="line">        </span><br><span class="line">        FileInputStream fileInputStream = <span class="keyword">new</span> FileInputStream(path);</span><br></pre></td></tr></table></figure>

两个<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">unix系统下类似这样</span><br><span class="line">    ``` java</span><br><span class="line">        String path = &quot;/home/jakobjenkov/data/thefile.txt&quot;;</span><br></pre></td></tr></table></figure>

2. 参数是文件对象
    <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">String path = <span class="string">"C:\\user\\data\\thefile.txt"</span>;</span><br><span class="line">File   file = <span class="keyword">new</span> File(path);</span><br><span class="line"></span><br><span class="line">FileInputStream fileInputStream = <span class="keyword">new</span> FileInputStream(file);</span><br></pre></td></tr></table></figure>

3. shit
</code></pre><h3 id="read-方法"><a href="#read-方法" class="headerlink" title="read()方法"></a>read()方法</h3><pre><code>- 返回包含byte值的int对象
- 如果返回-1就表示流中再读不到数据了，可以close了
- 是读到-1的int类型，不是byte类型
- 用法同InputStream中的read()方法.
    <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">FileInputStream fileInputStream =</span><br><span class="line">    <span class="keyword">new</span> FileInputStream(<span class="string">"c:\\data\\input-text.txt"</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> data = fileInputStream.read();</span><br><span class="line"><span class="keyword">while</span>(data != -<span class="number">1</span>) &#123;</span><br><span class="line">    <span class="comment">// do something with data variable</span></span><br><span class="line"></span><br><span class="line">    data = fileInputStream.read(); <span class="comment">// read next byte</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

    while结束循环时，从流中读出所有数据。
</code></pre><h3 id="read-byte-方法"><a href="#read-byte-方法" class="headerlink" title="read(byte[])方法"></a>read(byte[])方法</h3><pre><code>- 读入byte数组
- 继承自 Java InputStream 类
- int read(byte[]) 从流中读取字节直到数组塞满，然后当做参数传入
- int read(byte[], int offset, int length)从流中读取lengh长度字节，从offset下标开始，放入数组中
- 返回读入数组的byte数量。如果读入数据的长度小于数组容量，则就读入剩余数据后返回数组长度。
- 全读入后返回-1
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">FileInputStream fileInputStream = <span class="keyword">new</span> FileInputStream(<span class="string">"c:\\data\\input-text.txt"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">byte</span>[] data      = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line"><span class="keyword">int</span>    bytesRead = fileInputStream.read(data, <span class="number">0</span>, data.length);</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span>(bytesRead != -<span class="number">1</span>) &#123;</span><br><span class="line">  doSomethingWithData(data, bytesRead);</span><br><span class="line"></span><br><span class="line">  bytesRead = fileInputStream.read(data, <span class="number">0</span>, data.length);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

- read(data, 0, data.length) 等同于 read(data) .
</code></pre><h3 id="读入性能"><a href="#读入性能" class="headerlink" title="读入性能"></a>读入性能</h3><pre><code>- 读数组性能要比单独读入一个字节性能更好
- 好可能10倍10倍给你凉爽
- 读取速率决定于你定义的数组长度，操作系统或者硬件等。
- bugffer 尺寸8kb会更大加速你的读取速率。
- 但是你的数组容量超过了底层操作或者硬件能力，你可能得不到一个效率提升。
</code></pre><h3 id="通过BufferedInputStream的透明缓存"><a href="#通过BufferedInputStream的透明缓存" class="headerlink" title="通过BufferedInputStream的透明缓存"></a>通过BufferedInputStream的透明缓存</h3><pre><code>- Java BufferedInputStream一次读入大量的字符
- 也有较大速度提升
- 是InputStream子类，InputStream能用BufferedInputStream就能用
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">InputStream input = <span class="keyword">new</span> BufferedInputStream(</span><br><span class="line">                      <span class="keyword">new</span> FileInputStream(<span class="string">"c:\\data\\input-file.txt"</span>),</span><br><span class="line">                        <span class="number">1024</span> * <span class="number">1024</span>        <span class="comment">/* buffer size */</span></span><br><span class="line">    );</span><br></pre></td></tr></table></figure>
</code></pre><h3 id="关闭文件输入流"><a href="#关闭文件输入流" class="headerlink" title="关闭文件输入流"></a>关闭文件输入流</h3><pre><code>- 读完了必须关
- 调用InputStream中的close()方法 
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">FileInputStream fileInputStream = <span class="keyword">new</span> FileInputStream(<span class="string">"c:\\data\\input-text.txt"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> data = fileInputStream.read();</span><br><span class="line"><span class="keyword">while</span>(data != -<span class="number">1</span>) &#123;</span><br><span class="line">  data = fileInputStream.read();</span><br><span class="line">&#125;</span><br><span class="line">fileInputStream.close();</span><br></pre></td></tr></table></figure>

- 不是100%鲁棒的，如果中间出现读取异常，永远不close
- 所以finally
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>( FileInputStream fileInputStream = <span class="keyword">new</span> FileInputStream(<span class="string">"file.txt"</span>) ) &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> data = fileInputStream.read();</span><br><span class="line">    <span class="keyword">while</span>(data != -<span class="number">1</span>)&#123;</span><br><span class="line">        data = fileInputStream.read();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</code></pre><h3 id="FileInputStream-转-Reader"><a href="#FileInputStream-转-Reader" class="headerlink" title="FileInputStream 转 Reader"></a>FileInputStream 转 Reader</h3><pre><code><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">InputStream inputStream       = <span class="keyword">new</span> FileInputStream(<span class="string">"c:\\data\\input.txt"</span>);</span><br><span class="line">Reader      inputStreamReader = <span class="keyword">new</span> InputStreamReader(inputStream);</span><br></pre></td></tr></table></figure>
</code></pre>
      
    </div>

    

    
    
    

    
      <div>
        <div id="wechat_subscriber" style="display: block; padding: 10px 0; margin: 20px auto; width: 100%; text-align: center">
    <img id="wechat_subscriber_qcode" src="/images/qrcode_for_gh.jpg" alt="Howard wechat" style="width: 200px; max-width: 100%;"/>
    <div>扫一下，看公众号刺激到随时怀孕~</div>
</div>

      </div>
    

    
      <div>
        <div style="padding: 10px 0; margin: 20px auto; width: 90%; text-align: center;">
  <div>大爷，真是福寿延绵~再来玩~</div>
  <button id="rewardButton" disable="enable" onclick="var qr = document.getElementById('QR'); if (qr.style.display === 'none') {qr.style.display='block';} else {qr.style.display='none'}">
    <span>Donate</span>
  </button>
  <div id="QR" style="display: none;">

    
      <div id="wechat" style="display: inline-block">
        <img id="wechat_qr" src="/images/reward/wechat.png" alt="Howard WeChat Pay"/>
        <p>WeChat Pay</p>
      </div>
    

    
      <div id="alipay" style="display: inline-block">
        <img id="alipay_qr" src="/images/reward/alipay.jpg" alt="Howard Alipay"/>
        <p>Alipay</p>
      </div>
    

    

  </div>
</div>

      </div>
    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/java/" rel="tag"># java</a>
          
            <a href="/tags/翻译/" rel="tag"># 翻译</a>
          
            <a href="/tags/教程/" rel="tag"># 教程</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2020/02/20/java-io你总得搞清楚吧/" rel="next" title="java io你总得搞清楚吧">
                <i class="fa fa-chevron-left"></i> java io你总得搞清楚吧
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          

  
    <div class="comments" id="comments">
      <div id="disqus_thread">
        <noscript>
          Please enable JavaScript to view the
          <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a>
        </noscript>
      </div>
    </div>

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Inhaltsverzeichnis
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            Übersicht
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/avatar/P1070776.jpg"
                alt="Howard" />
            
              <p class="site-author-name" itemprop="name">Howard</p>
              <p class="site-description motion-element" itemprop="description">午夜向日葵，晌午夜光杯。跛者脚下路，屠夫腕上佛。</p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">19</span>
                    <span class="site-state-item-name">Artikel</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  <a href="/categories/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">5</span>
                    <span class="site-state-item-name">Kategorien</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  <a href="/tags/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">32</span>
                    <span class="site-state-item-name">Tags</span>
                  </a>
                </div>
              
            </nav>
          

          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  <a href="https://github.com/hizzyishome" target="_blank" title="GitHub" rel="external nofollow"><i class="fa fa-fw fa-github"></i>GitHub</a>
                  
                </span>
              
                <span class="links-of-author-item">
                  <a href="mailto:hizzyzzh@hotmail.com" target="_blank" title="E-Mail" rel="external nofollow"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  
                </span>
              
            </div>
          

          
          

          
          
            <div class="links-of-blogroll motion-element links-of-blogroll-block">
              <div class="links-of-blogroll-title">
                <i class="fa  fa-fw fa-link"></i>
                Links
              </div>
              <ul class="links-of-blogroll-list">
                
                  <li class="links-of-blogroll-item">
                    <a href="http://mi.com/" title="MI" target="_blank">MI</a>
                  </li>
                
              </ul>
            </div>
          

          
            
          
          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#toc"><span class="nav-number">1.</span> <span class="nav-text">[toc]</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Java-IO包的作用域"><span class="nav-number">2.</span> <span class="nav-text">Java IO包的作用域</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Java-NIO-——-另一种IO的选择"><span class="nav-number">3.</span> <span class="nav-text">Java NIO —— 另一种IO的选择</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#更多javaIO的工具，技巧等"><span class="nav-number">4.</span> <span class="nav-text">更多javaIO的工具，技巧等</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Java-IO-类一览表"><span class="nav-number">5.</span> <span class="nav-text">Java IO 类一览表</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Java-5-以及之后版本"><span class="nav-number">6.</span> <span class="nav-text">Java 5 以及之后版本</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Java-IO-总览"><span class="nav-number">7.</span> <span class="nav-text">Java IO 总览</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#输入和输出-源头和目标"><span class="nav-number">7.1.</span> <span class="nav-text">输入和输出 - 源头和目标</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#流（Streams）"><span class="nav-number">7.1.1.</span> <span class="nav-text">流（Streams）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#输入流InputStream-输出流OutputStream-读入Reader-和-写出Writer"><span class="nav-number">7.1.2.</span> <span class="nav-text">输入流InputStream, 输出流OutputStream, 读入Reader 和 写出Writer</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Java-IO-的目的和特性"><span class="nav-number">7.2.</span> <span class="nav-text">Java IO 的目的和特性</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Java-IO-文件"><span class="nav-number">8.</span> <span class="nav-text">Java IO 文件</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#通过Java-IO读取文件"><span class="nav-number">8.1.</span> <span class="nav-text">通过Java IO读取文件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#通过Java-IO写入文件"><span class="nav-number">8.2.</span> <span class="nav-text">通过Java IO写入文件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#通过Java-IO随机访问文件"><span class="nav-number">8.3.</span> <span class="nav-text">通过Java IO随机访问文件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#文件和目录信息访问"><span class="nav-number">8.4.</span> <span class="nav-text">文件和目录信息访问</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Java-IO-管道-pipes"><span class="nav-number">9.</span> <span class="nav-text">Java IO 管道 pipes</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#通过Java-IO创建管道"><span class="nav-number">9.1.</span> <span class="nav-text">通过Java IO创建管道</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Java-IO-Byte-和-Char数组"><span class="nav-number">10.</span> <span class="nav-text">Java IO: Byte 和 Char数组</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#通过InputStream或者Reader读取数组"><span class="nav-number">10.1.</span> <span class="nav-text">通过InputStream或者Reader读取数组</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#通过OutputStream或者Writer写入数组"><span class="nav-number">10.2.</span> <span class="nav-text">通过OutputStream或者Writer写入数组</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Java中的-System-in-System-out-和-System-error"><span class="nav-number">11.</span> <span class="nav-text">Java中的 System.in, System.out, 和 System.error</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#System-in"><span class="nav-number">11.1.</span> <span class="nav-text">System.in</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#System-out"><span class="nav-number">11.2.</span> <span class="nav-text">System.out</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#System-err"><span class="nav-number">11.3.</span> <span class="nav-text">System.err</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#示例"><span class="nav-number">11.4.</span> <span class="nav-text">示例</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Java-IO-流"><span class="nav-number">12.</span> <span class="nav-text">Java IO: 流</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#输入流InputStream"><span class="nav-number">12.1.</span> <span class="nav-text">输入流InputStream</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#输出流OutputStream"><span class="nav-number">12.2.</span> <span class="nav-text">输出流OutputStream</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#结合流Combining-Streams"><span class="nav-number">12.3.</span> <span class="nav-text">结合流Combining Streams</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Java-IO-输入解析"><span class="nav-number">13.</span> <span class="nav-text">Java IO: 输入解析</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Java-IO-读入器和写出器Readers-and-Writers"><span class="nav-number">14.</span> <span class="nav-text">Java IO: 读入器和写出器Readers and Writers</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Reader"><span class="nav-number">14.1.</span> <span class="nav-text">Reader</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#结合InputStreams的Reader"><span class="nav-number">14.2.</span> <span class="nav-text">结合InputStreams的Reader</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#mark-and-reset-方法"><span class="nav-number">14.3.</span> <span class="nav-text">mark() and reset()方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#关闭输入流"><span class="nav-number">14.4.</span> <span class="nav-text">关闭输入流</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#InputStream-转-Reader"><span class="nav-number">14.5.</span> <span class="nav-text">InputStream 转 Reader</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Java-OutputStream输出流"><span class="nav-number">15.</span> <span class="nav-text">Java OutputStream输出流</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#write-byte-方法"><span class="nav-number">15.1.</span> <span class="nav-text">write(byte)方法</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Java-RandomAccessFile随机访问"><span class="nav-number">16.</span> <span class="nav-text">Java RandomAccessFile随机访问</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Access-Modes存取模式"><span class="nav-number">16.1.</span> <span class="nav-text">Access Modes存取模式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#在RandomAccessFile文件中查找"><span class="nav-number">16.2.</span> <span class="nav-text">在RandomAccessFile文件中查找</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#获取文件位置"><span class="nav-number">16.3.</span> <span class="nav-text">获取文件位置</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#读取字节"><span class="nav-number">16.4.</span> <span class="nav-text">读取字节</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#写入"><span class="nav-number">16.5.</span> <span class="nav-text">写入</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Java-File"><span class="nav-number">16.6.</span> <span class="nav-text">Java File</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Java-FileInputStream"><span class="nav-number">17.</span> <span class="nav-text">Java FileInputStream</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Java-FileInputStream-用法示例"><span class="nav-number">17.1.</span> <span class="nav-text">Java FileInputStream 用法示例</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#read-方法"><span class="nav-number">17.2.</span> <span class="nav-text">read()方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#read-byte-方法"><span class="nav-number">17.3.</span> <span class="nav-text">read(byte[])方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#读入性能"><span class="nav-number">17.4.</span> <span class="nav-text">读入性能</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#通过BufferedInputStream的透明缓存"><span class="nav-number">17.5.</span> <span class="nav-text">通过BufferedInputStream的透明缓存</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#关闭文件输入流"><span class="nav-number">17.6.</span> <span class="nav-text">关闭文件输入流</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#FileInputStream-转-Reader"><span class="nav-number">17.7.</span> <span class="nav-text">FileInputStream 转 Reader</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; 2016 &mdash; <span itemprop="copyrightYear">2020</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Howard</span>

  

  
</div>


  



  <div class="powered-by">Erstellt mit  <a class="theme-link" target="_blank" rel="external nofollow" href="https://hexo.io">Hexo</a> v3.7.1</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" rel="external nofollow" href="https://theme-next.org">NexT.Gemini</a> v6.3.0</div>





  <script src='https://unpkg.com/mermaid@8.4.8/dist/mermaid.min.js'></script>
  <script>
    if (window.mermaid) {
      mermaid.initialize("");
    }
  </script>


        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>














  



  
  



  
  



  
  







  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>
  

  
  
    <script type="text/javascript" src="/lib/three/three.min.js"></script>
  

  
  
    <script type="text/javascript" src="/lib/three/three-waves.min.js"></script>
  

  
  
    <script type="text/javascript" src="/lib/three/canvas_lines.min.js"></script>
  

  
  
    <script type="text/javascript" src="/lib/three/canvas_sphere.min.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=6.3.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=6.3.0"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=6.3.0"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=6.3.0"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=6.3.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=6.3.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=6.3.0"></script>



  

  
    <script id="dsq-count-scr" src="https://.disqus.com/count.js" async></script>
  

  
    <script type="text/javascript">
      var disqus_config = function () {
        this.page.url = 'http://yoursite.com/2020/02/22/翻译-java-io教程/';
        this.page.identifier = '2020/02/22/翻译-java-io教程/';
        this.page.title = '[翻译]java io教程';
        };
      function loadComments () {
        var d = document, s = d.createElement('script');
        s.src = 'https://.disqus.com/embed.js';
        s.setAttribute('data-timestamp', '' + +new Date());
        (d.head || d.body).appendChild(s);
      }
      
        $(function () {
          var offsetTop = $('#comments').offset().top - $(window).height();
          if (offsetTop <= 0) {
            // load directly when there's no a scrollbar
            loadComments();
          } else {
            $(window).on('scroll.disqus_scroll', function () {
              var scrollTop = document.documentElement.scrollTop;
              if (scrollTop >= offsetTop) {
                $(window).off('.disqus_scroll');
                loadComments();
              }
            });
          }
        });
      
    </script>
  





  





  










  





  

  

  

  
  

  
  

  


  
  

  

  

  

  

  

</body>
</html>
